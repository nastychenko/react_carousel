{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","listRef","createRef","state","currentSlide","handlePrev","props","images","step","frameSize","itemWidth","infinite","animationDuration","maxSlide","length","setState","list","current","style","transition","transform","handleNext","prevState","prevCurrentSlide","this","isAtBoundaryNext","isAtBoundaryLast","className","width","ref","map","img","src","alt","type","onClick","disabled","React","Component","App","handleChange","name","value","htmlFor","id","defaultValue","min","onChange","e","target","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.83cdf515.chunk.js","sourcesContent":["import React, { createRef } from 'react';\nimport './Carousel.scss';\n\ninterface State {\n  currentSlide: number;\n}\n\ninterface Props {\n  images: string[];\n  step: number,\n  frameSize: number,\n  itemWidth: number,\n  animationDuration: number,\n  infinite: boolean,\n}\n\nexport class Carousel extends React.Component<Props, State> {\n  private listRef = createRef<HTMLUListElement>();\n\n  state = {\n    currentSlide: 0,\n  };\n\n  handlePrev = () => {\n    const { currentSlide } = this.state;\n\n    const {\n      images,\n      step,\n      frameSize,\n      itemWidth,\n      infinite,\n      animationDuration,\n    } = this.props;\n\n    const maxSlide = images.length * itemWidth - frameSize * itemWidth;\n\n    if (currentSlide < 0) {\n      if (currentSlide + itemWidth * step > 0) {\n        this.setState({ currentSlide: 0 });\n      } else {\n        this.setState({ currentSlide: currentSlide + itemWidth * step });\n      }\n    } else if (infinite && !currentSlide) {\n      this.setState({ currentSlide: -maxSlide });\n    } else {\n      this.setState({ currentSlide: currentSlide - itemWidth * step });\n    }\n\n    const list = this.listRef.current;\n\n    if (list) {\n      list.style.transition = `transform ${animationDuration}ms ease-in-out`;\n      list.style.transform = `translateX(${this.state.currentSlide}px)`;\n    }\n  };\n\n  handleNext = () => {\n    const {\n      images,\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n\n    const maxSlide = images.length * itemWidth - frameSize * itemWidth;\n\n    this.setState(prevState => {\n      const prevCurrentSlide = prevState.currentSlide;\n\n      if (prevCurrentSlide > -maxSlide) {\n        if (prevCurrentSlide - itemWidth * step < -maxSlide) {\n          this.setState({ currentSlide: -maxSlide });\n        } else {\n          this.setState({ currentSlide: prevCurrentSlide - itemWidth * step });\n        }\n      } else if (infinite && prevCurrentSlide === -maxSlide) {\n        this.setState({ currentSlide: 0 });\n      }\n    });\n\n    const list = this.listRef.current;\n\n    if (list) {\n      list.style.transition = `transform ${animationDuration}ms ease-in-out`;\n      list.style.transform = `translateX(${this.state.currentSlide}px)`;\n    }\n  };\n\n  render() {\n    const {\n      images,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.props;\n\n    const { currentSlide } = this.state;\n\n    const isAtBoundaryNext = infinite\n      ? false\n      : currentSlide === (\n        images.length * itemWidth - frameSize * itemWidth\n      ) * -1;\n\n    const isAtBoundaryLast = infinite ? false : !currentSlide;\n\n    return (\n      <div className=\"carousel\" style={{ width: frameSize * itemWidth }}>\n        <ul\n          ref={this.listRef}\n          className=\"carousel__list\"\n          style={{\n            transform: `translateX(${currentSlide}px)`,\n            transition: `all ${animationDuration}ms ease-in-out`,\n            width: `${itemWidth * images.length}px`,\n          }}\n        >\n          {images.map(img => (\n            <li key={img}>\n              <img\n                src={img}\n                alt=\"Emojy\"\n                style={{ width: `${itemWidth}px` }}\n              />\n            </li>\n          ))}\n        </ul>\n\n        <div className=\"buttons\">\n          <button\n            type=\"button\"\n            onClick={this.handlePrev}\n            disabled={isAtBoundaryLast}\n          >\n            &lt;\n          </button>\n          <button\n            data-cy=\"next\"\n            onClick={this.handleNext}\n            type=\"button\"\n            disabled={isAtBoundaryNext}\n          >\n            &gt;\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport './App.scss';\nimport { Carousel } from './components/Carousel';\n\ninterface State {\n  images: string[];\n  step: number,\n  frameSize: number,\n  itemWidth: number,\n  animationDuration: number,\n  infinite: boolean,\n}\n\nexport class App extends Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n    step: 3,\n    frameSize: 3,\n    itemWidth: 130,\n    animationDuration: 1000,\n    infinite: false,\n  };\n\n  handleChange = (name: string, value: string) => {\n    this.setState((state) => {\n      return { ...state, [name]: value };\n    });\n  };\n\n  render() {\n    const {\n      images,\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1 data-cy=\"title\">{`Carousel with ${images.length} images`}</h1>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n\n        <form className=\"form\">\n          <label htmlFor=\"itemId\" className=\"form__label\">\n            Item width\n            <br />\n            <input\n              type=\"number\"\n              id=\"itemWidth\"\n              name=\"itemWidth\"\n              defaultValue={130}\n              min={130}\n              onChange={(e) => (\n                this.handleChange(e.target.name, e.target.value)\n              )}\n            />\n          </label>\n          <label htmlFor=\"frameId\" className=\"form__label\">\n            Frame size\n            <br />\n            <input\n              type=\"number\"\n              id=\"frameSize\"\n              name=\"frameSize\"\n              defaultValue={3}\n              min={1}\n              onChange={(e) => (\n                this.handleChange(e.target.name, e.target.value)\n              )}\n            />\n          </label>\n          <label htmlFor=\"stepId\" className=\"form__label\">\n            Step\n            <br />\n            <input\n              type=\"number\"\n              id=\"step\"\n              name=\"step\"\n              defaultValue={3}\n              min={1}\n              onChange={(e) => (\n                this.handleChange(e.target.name, e.target.value)\n              )}\n            />\n          </label>\n          <label htmlFor=\"animationDuration\" className=\"form__label\">\n            Animation duration\n            <br />\n            <input\n              type=\"number\"\n              id=\"animationDuration\"\n              name=\"animationDuration\"\n              defaultValue={1000}\n              min={0}\n              step=\"1000\"\n              onChange={(e) => (\n                this.handleChange(e.target.name, e.target.value)\n              )}\n            />\n          </label>\n          <label htmlFor=\"infinite\" className=\"form__label\">\n            Infinite\n            <br />\n            <input\n              type=\"checkbox\"\n              id=\"infinite\"\n              name=\"infinite\"\n              onChange={(e) => (\n                this.handleChange(e.target.name, e.target.value)\n              )}\n            />\n          </label>\n        </form>\n      </div>\n    );\n  }\n}\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}